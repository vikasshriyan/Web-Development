<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Angular JS</title>
    <script src="AngularJS/angular.js"></script>
    <script src="AngularJS/angular.min.js"></script>
    <script src="AngularJS-Form.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
</head>
<body ng-app="form">
    <div class="container" ng-controller="StudentRecordController">
        <h2>Angular JS Form</h2>
        <hr />
        <table class="table table-striped">
            <thead>
                <tr>

                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Course 1</th>
                    <th>Course 2</th>
                    <th>&nbsp;</th>

                </tr>
                <tr>

                    <td><input class="form-control" ng-model="newStudent.firstname" placeholder="First Name" /></td>
                    <td><input class="form-control" ng-model="newStudent.lastname" placeholder="Last Name" /></td>
                    <td><input class="form-control" ng-model="newStudent.course1" placeholder="Programming Design Paradigm" /></td>
                    <td><input class="form-control" ng-model="newStudent.course2" placeholder="Network Security" /></td>                   
                    <td>
                        <button ng-click="add()" class="btn btn-success glyphicon glyphicon-plus"></button>
                    
                    
                        <button ng-click="updateForm()" class="btn btn-primary glyphicon glyphicon-ok"></button>
                    </td>
                   
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="student in students">

                    <td>{{student.firstname}}</td>
                    <td>{{student.lastname}}</td>
                    <td>{{student.course1}}</td>
                    <td>{{student.course2}}</td>
                    <td>
                        <button class="btn btn-danger glyphicon glyphicon-remove" ng-click="delete(student)"></button>
                        <button class="btn btn-warning glyphicon glyphicon-pencil" ng-click="edit(student)"></button>
                    </td>
                </tr>
            </tbody>
        </table>
        <hr />
        <br />
        <h3><u>About the Experiment</u></h3>
        <p>
            AngularJS, commonly referred to as Angular, is an open-source web application framework maintained by Google and a community of individual developers and corporations to address many of the challenges encountered in developing single-page applications. Its goal is to simplify both development and testing of such applications by providing a framework for client-side model–view–controller (MVC) architecture, along with components commonly used in rich internet applications.<br />
            You can download the AngularJS from <a href="https://angularjs.org/">here</a>. <br />
            
        </p><hr />
        <div>
            <h3><u>Code Snippet</u></h3>
            <p>
                Here, I've initially loaded the AngularJS module using <code>.module</code> function in the js file and linking it using <code>ng-app</code> in the HTML file.
                Using the <code>app</code> namespace and the <code>controller</code> function, linking the <code>ng-controller</code> StudentRecordControlle in the HTML page, I then declare a function with <code>$scope</code>
                parameter. Many student variables are declared with first and last name, course1 and course2.
                I declare a students array with all the student variables. For the function <code>add()</code>, I declare a newStudent with the new name and courses assigned to it dynamically, from user.
            I then add the new student using <code>push</code> function
            For <code>delete</code> function, I collect the index of the current student which the user has clicked and then delete it using the <code>slice</code> function.
            Only one student needs to be deleted, hence the second parameter is given 1.
            The <<code>update</code> function is just used to notify the server and the user that the has completed all the fields.
            </p><br />
            <code>
                var app = angular.module("form", []) // load the angular module<br/>

                app.controller("StudentRecordController", function ($scope) { // load the controller<br />
                var student1 = { // student variable<br />
                firstname: "Vikas",<br />
                lastname: "Shriyan",<br />
                course1: "Programming Design Paradigm",<br />
                course2: "Network Security",<br />
                };<br /><br />

                ... Array Elements <br /><br />
                
                var students = [student1, student2, student3, student4];<br />
                $scope.students = students;<br />

                $scope.edit = function (student) {<br />
                console.log(student);<br />
                $scope.newStudent = student; // edit the fields dynamically.<br />
                }
                <br />
                $scope.delete = function (student) {<br />
                var index = $scope.students.indexOf(student); // current index of the student in the array<br />
                $scope.students.splice(index, 1); // remove the student from the array<br />
                }<br />
                $scope.add = function () {<br />
                console.log($scope.newStudent);<br />
                var student = { // new student with given details from users input<br />
                firstname: $scope.newStudent.firstname,<br />
                lastname: $scope.newStudent.lastname,<br />
                course1: $scope.newStudent.course1,<br />
                course2: $scope.newStudent.course2,<br />
                };<br />
                $scope.students.push(student); // add the student onto the list<br />
                }<br />
                $scope.updateForm = function (student) {<br/>
                alert($scope.newStudent.firstname);<br />
                }<br />
                });

            </code>
            <hr />
        </div>
        <h3>View Source</h3>
        <div>
            <a href="../../fileview/Default.aspx?~/Experiments/Week4/AngularJS-Form.html">HTML Source Code</a><br />
            <a href="../../fileview/Default.aspx?~/Experiments/Week4/AngularJS-Form.js">JQuery Source Code</a>
        </div>
        <hr />
        <h3>References</h3>
        <a href="https://www.youtube.com/watch?v=KCTKd5ZmXMQ">Youtube Video</a><br />
        <a href="https://www.w3schools.com"></a>
        <a href="http://getbootstrap.com/examples/starter-template/">Bootstrap CSS code</a>

    </div>
</body>
</html>
